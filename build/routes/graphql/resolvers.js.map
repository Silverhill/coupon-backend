{"version":3,"sources":["../../../server/routes/graphql/resolvers.js"],"names":["userResolver","campaignResolver","couponResolver","companyResolver","officeResolver","fileResolver","Timestamp","CouponBase","__resolveType","obj","campaign","UserBase","coupons","campaigns","Upload","Query","signIn","allUsers","allMakers","allHunters","getUser","me","getCampaign","allCampaigns","myCampaigns","huntersByCampaign","getHuntersByCampaign","campaignsByMakerId","couponsFromCampaign","getCouponsFromCampaign","getCoupon","myCoupons","myCompany","myOffices","office","getOffice","Mutation","register","login","signUp","updatePassword","addCampaign","updateCampaign","deleteCampaign","captureCoupon","addCompany","addOffice","singleUpload","uploadFile","addImageToUser"],"mappings":"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","file":"resolvers.js","sourcesContent":["import { GraphQLUpload } from 'apollo-upload-server'\n\nimport * as userResolver from './resolvers/user.resolver';\nimport * as campaignResolver from './resolvers/campaign.resolver';\nimport * as couponResolver from './resolvers/coupon.resolver';\nimport * as companyResolver from './resolvers/company.resolver';\nimport * as officeResolver from './resolvers/office.resolver';\nimport * as fileResolver from './resolvers/file.resolver';\nimport { requiresAuth } from '../../services/graphql.service';\nimport { timestampScalar } from './scalars/timestamp.scalar';\n\nexport default {\n  Timestamp: timestampScalar,\n\n  CouponBase: {\n    __resolveType(obj){\n      if(obj.campaign) return 'CouponHunted';\n      return 'Coupon';\n    }\n  },\n\n  UserBase: {\n    __resolveType(obj){\n      if(obj.coupons) return 'Hunter';\n      else if(obj.campaigns) return 'Maker';\n      return 'User';\n    }\n  },\n\n  Upload: GraphQLUpload,\n\n  Query: {\n    signIn: userResolver.signIn,\n    allUsers: requiresAuth(userResolver.allUsers, ['admin']),\n    allMakers: requiresAuth(userResolver.allMakers, ['admin', 'maker']),\n    allHunters: requiresAuth(userResolver.allHunters, ['admin', 'maker', 'hunter']),\n    getUser: requiresAuth(userResolver.getUser, ['admin']),\n    me: requiresAuth(userResolver.me, ['admin', 'maker', 'hunter']),\n    //Campaign\n    campaign: requiresAuth(campaignResolver.getCampaign, ['maker']),\n    allCampaigns: requiresAuth(campaignResolver.allCampaigns, ['hunter']),\n    myCampaigns: requiresAuth(campaignResolver.myCampaigns, ['maker']),\n    huntersByCampaign: requiresAuth(campaignResolver.getHuntersByCampaign, ['maker']),\n    campaignsByMakerId: requiresAuth(campaignResolver.campaignsByMakerId, ['hunter']),\n    //Coupon\n    couponsFromCampaign: requiresAuth(campaignResolver.getCouponsFromCampaign, ['maker']),\n    getCoupon: requiresAuth(couponResolver.getCoupon, ['hunter', 'maker']),\n    myCoupons: requiresAuth(userResolver.myCoupons, ['hunter']),\n    //Company\n    myCompany: requiresAuth(companyResolver.myCompany, ['maker']),\n    //Office\n    myOffices: requiresAuth(officeResolver.myOffices, ['maker']),\n    office: requiresAuth(officeResolver.getOffice, ['maker'])\n  },\n\n  Mutation: {\n    register: userResolver.register,\n    login: userResolver.login,\n    signUp: userResolver.signUp,\n    updatePassword: requiresAuth(userResolver.updatePassword, ['admin', 'maker', 'hunter']),\n    //Campaign\n    addCampaign: requiresAuth(campaignResolver.addCampaign, ['maker']),\n    updateCampaign: requiresAuth(campaignResolver.updateCampaign, ['maker']),\n    deleteCampaign: requiresAuth(campaignResolver.deleteCampaign, ['maker']),\n    //Coupon\n    captureCoupon: requiresAuth(couponResolver.captureCoupon, ['hunter']),\n    //Company\n    addCompany: requiresAuth(companyResolver.addCompany, ['maker']),\n    //Office\n    addOffice: requiresAuth(officeResolver.addOffice, ['maker']),\n    //Core uploader\n    singleUpload: requiresAuth(fileResolver.uploadFile, ['admin', 'maker', 'hunter']),\n    //Core uploader\n    addImageToUser: requiresAuth(userResolver.addImageToUser, ['admin', 'maker', 'hunter']),\n  }\n}\n"]}