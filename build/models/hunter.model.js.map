{"version":3,"sources":["../../server/models/hunter.model.js"],"names":["HunterSchema","schema","extend","role","type","String","default","coupons","ObjectId","ref","virtual","get","length","model"],"mappings":"AAAA;AACA;;;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;;;AAA6C;;AAE7C;AACA,IAAIA,eAAe,eAAKC,MAAL,CAAYC,MAAZ,CAAmB;AACpCC,QAAM;AACJC,UAAMC,MADF;AAEJC,aAAS;AAFL,GAD8B;AAKpCC,WAAS,CAAC;AACRH,UAAM,iBAAOI,QADL;AAERC,SAAK;AAFG,GAAD;AAL2B,CAAnB,CAAnB;;AAWAT,aACGU,OADH,CACW,aADX,EAEGC,GAFH,CAEO,YAAW;AACd,SAAO,KAAKJ,OAAL,CAAaK,MAApB;AACD,CAJH;;AAMA,0BAAeZ,YAAf;kBACe,mBAASa,KAAT,CAAe,QAAf,EAAyBb,YAAzB,C","file":"hunter.model.js","sourcesContent":["'use strict';\n/*eslint no-invalid-this:0*/\nimport mongoose, {Schema} from 'mongoose';\nimport {registerEvents} from '../events/user.events';\nimport User from './user.model';\nimport extend from 'mongoose-schema-extend'; // eslint-disable-line\n\n// need to define the fields of Hunter\nvar HunterSchema = User.schema.extend({\n  role: {\n    type: String,\n    default: 'hunter'\n  },\n  coupons: [{\n    type: Schema.ObjectId,\n    ref: 'Coupon'\n  }]\n});\n\nHunterSchema\n  .virtual('couponCount')\n  .get(function() {\n    return this.coupons.length;\n  });\n\nregisterEvents(HunterSchema);\nexport default mongoose.model('Hunter', HunterSchema);\n"]}